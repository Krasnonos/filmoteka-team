!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var l=document.querySelector("#watched"),i=document.querySelector("#queue"),c=document.querySelector(".js-watched-text"),u=document.querySelector(".js-queue-text");i.addEventListener("click",(function(e){if(e.target.hasAttribute("data-current"))return;e.target.setAttribute("data-current","currentPage"),l.removeAttribute("data-current"),c.style.display="none",u.style.display="block"})),l.addEventListener("click",(function(e){if(e.target.hasAttribute("data-current"))return;e.target.setAttribute("data-current","currentPage"),i.removeAttribute("data-current"),u.style.display="none",c.style.display="block"}));var s=a("bpxeT"),o=a("2TvXO");s=a("bpxeT"),o=a("2TvXO");e(O=a("dIxxU")).defaults.baseURL="https://api.themoviedb.org";var d="c8ef48bae82b60cf66a4f0e6e3dd153e";function f(e){return p.apply(this,arguments)}function p(){return(p=e(s)(e(o).mark((function t(n){return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(O)("3/movie/".concat(n,"?api_key=").concat(d,"&language=en-US"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var m=a("l5bVx"),g=e(a("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(t,n,r,a,l){var i,c=null!=n?n:t.nullContext||{},u=t.hooks.helperMissing,s="function",o=t.escapeExpression,d=t.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery-list__item">\n    <div data-filmId="'+o((void 0===(i=null!=(i=d(r,"filmId")||(null!=n?d(n,"filmId"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"filmId",hash:{},data:l,loc:{start:{line:2,column:22},end:{line:2,column:32}}}):i)+'" class="gallery-list__card">\n        <button type="button" data-filmid="'+o((void 0===(i=null!=(i=d(r,"filmId")||(null!=n?d(n,"filmId"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"filmId",hash:{},data:l,loc:{start:{line:3,column:43},end:{line:3,column:53}}}):i)+'" class="remove-film-btn">\n            <svg class="remove-film-svg" width="26" height="30">\n                <use href="./images/icons.svg#icon-clear"></use>\n            </svg>\n        </button>\n\n        <div class="gallery-list__poster">\n            <img class="gallery-list__img" src="https://image.tmdb.org/t/p/w300'+o((void 0===(i=null!=(i=d(r,"urlImg")||(null!=n?d(n,"urlImg"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"urlImg",hash:{},data:l,loc:{start:{line:10,column:79},end:{line:10,column:89}}}):i)+'" alt="'+o((void 0===(i=null!=(i=d(r,"title")||(null!=n?d(n,"title"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"title",hash:{},data:l,loc:{start:{line:10,column:96},end:{line:10,column:105}}}):i)+'" loading="lazy" />\n        </div>\n\n        <div class="gallery-list__description">\n            <h2 class="gallery-list__titel">'+o((void 0===(i=null!=(i=d(r,"title")||(null!=n?d(n,"title"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"title",hash:{},data:l,loc:{start:{line:14,column:44},end:{line:14,column:53}}}):i)+'</h2>\n            <div class="gallery-list__info">\n\n                <p class="gallery-list__genre">'+o((void 0===(i=null!=(i=d(r,"ganres")||(null!=n?d(n,"ganres"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"ganres",hash:{},data:l,loc:{start:{line:17,column:47},end:{line:17,column:57}}}):i)+' | <span class="gallery-list__Year">'+o((void 0===(i=null!=(i=d(r,"relisYer")||(null!=n?d(n,"relisYer"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"relisYer",hash:{},data:l,loc:{start:{line:17,column:93},end:{line:17,column:105}}}):i)+'</span> </p>\n                <span class="gallery-list__rating">'+o((void 0===(i=null!=(i=d(r,"ratting")||(null!=n?d(n,"ratting"):n))?i:u)?"undefined":e(m)(i))===s?i.call(c,{name:"ratting",hash:{},data:l,loc:{start:{line:18,column:51},end:{line:18,column:62}}}):i)+"</span>\n\n            </div>\n        </div>\n    </div>\n</li>\n"},useData:!0});function v(e){var t="";return e.forEach((function(e){var n={filmId:e.id,title:e.name||e.title||"XXXX",urlImg:e.poster_path,relisYer:(e.release_date||e.first_air_date||"XXXX").slice(0,4),ganres:e.genres.map((function(e){return e.name})).slice(0,2).join(", ")||"XXXX",ratting:e.vote_average};t+=g(n)})),t}a("88LCY"),a("4ltia");var y=a("8nrFW"),h=[];function b(t){h=e(y)(t)}function x(){return h}var _=document.querySelector("#watched"),S=document.querySelector("#queue"),w=document.querySelector(".gallery-list"),k=document.querySelector(".js-watched-text"),X=document.querySelector(".js-queue-text");function q(e){return I.apply(this,arguments)}function I(){return(I=e(s)(e(o).mark((function t(n){var r,a,l,i,c,u;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.currentTarget.dataset.key,a=localStorage.getItem(r),l=JSON.parse(a)){e.next=6;break}return w.innerHTML="",e.abrupt("return");case 6:return e.next=8,l.map((function(e){return f(e)}));case 8:return i=e.sent,e.next=11,Promise.all(i);case 11:c=e.sent,u=c.map((function(e){return e.data})),w.innerHTML=v(u),b(u),T(r);case 16:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(e){"watched-films"===e?k.style.display="none":X.style.display="none"}S.addEventListener("click",q),_.addEventListener("click",q),a("13upn"),a("3gTut");s=a("bpxeT"),o=a("2TvXO");function L(){var e=localStorage.getItem("watched-films");return JSON.parse(e)}var O;s=a("bpxeT"),o=a("2TvXO");e(O=a("dIxxU")).defaults.baseURL="https://api.themoviedb.org";var E="c8ef48bae82b60cf66a4f0e6e3dd153e";function j(e){return M.apply(this,arguments)}function M(){return(M=e(s)(e(o).mark((function t(n){return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(O)("3/movie/".concat(n,"?api_key=").concat(E));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(e){var t,n="",r={filmId:e.id,title:e.name||e.title||"XXXX",urlImg:e.poster_path,relisYer:(e.release_date||e.first_air_date||"XXXX").slice(0,4),ganres:(null===(t=e.genres)||void 0===t?void 0:t.map((function(e){return e.name})).join(", "))||"XXXX",ratting:e.vote_average||0};return n+=g(r)}var A=[];function P(e){A.push(e)}function U(){!A==[]&&A.splice(0,A.length)}var Y=a("cadKG");function H(){return(H=e(s)(e(o).mark((function t(){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=L())&&(Y.refs.libraryEmptyWachEl.style.display="none",J(n));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function J(e){return R.apply(this,arguments)}function R(){return(R=e(s)(e(o).mark((function t(n){var r,a,l;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",U(),Y.refs.galleryListEl.innerHTML="",a=0;case 4:if(!(a<n.length)){e.next=18;break}return e.prev=5,e.next=8,j(n[a]);case 8:l=e.sent,r+=N(l.data),P(l.data),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:a++,e.next=4;break;case 18:Y.refs.galleryListEl.insertAdjacentHTML("afterbegin",r);case 19:case"end":return e.stop()}}),t,null,[[5,13]])})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return H.apply(this,arguments)}));var C=document.querySelector(".clear-library-btn"),D=document.querySelector(".gallery-list"),W=document.querySelector(".js-watched-text"),F=document.querySelector(".js-queue-text");C.addEventListener("click",(function(e){var t=document.querySelector('button[data-current="currentPage"]');(function(e){localStorage.removeItem(e),D.innerHTML=""})(t.dataset.key),"watched"===t.id?W.style.display="block":F.style.display="block"}));s=a("bpxeT"),o=a("2TvXO");var z=document.querySelector(".gallery-list"),G=document.querySelector(".js-watched-text"),K=document.querySelector(".js-queue-text");function V(){return(V=e(s)(e(o).mark((function t(n){var r,a,l,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("svg"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:r=n.target.closest(".remove-film-btn").dataset.filmid,a=B(),Q(r,a),Z(a),l=x(),i=l.filter((function(e){return e.id!==Number(r)})),z.innerHTML=v(i),b(i);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function B(){return document.querySelector('button[data-current="currentPage"]').dataset.key}function Q(e,t){var n=JSON.parse(localStorage.getItem(t)).filter((function(t){return t!==e}));return localStorage.setItem(t,JSON.stringify(n)),n}function Z(e){0===JSON.parse(localStorage.getItem(e)).length?(localStorage.removeItem(e),"watched-films"===e?G.style.display="block":K.style.display="block"):console.log(localStorage.getItem(e))}z.addEventListener("click",(function(e){return V.apply(this,arguments)}))}();
//# sourceMappingURL=library.c48c419d.js.map
