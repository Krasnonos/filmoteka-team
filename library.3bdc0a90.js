function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in l)return l[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequired7c6=a),a.register("kyEFX",(function(t,n){var l,r;e(t.exports,"register",(function(){return l}),(function(e){return l=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};l=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"1zJhX":"library.3bdc0a90.js","2hlj7":"image-not-found-adaptive.85e4068c.png","eM9ss":"library.b01c3ef5.js"}')),a("3qV1E");const o=document.querySelector("#watched"),i=document.querySelector("#queue"),c=document.querySelector(".js-watched-text"),s=document.querySelector(".js-queue-text");i.addEventListener("click",(function(e){if(e.target.hasAttribute("data-current"))return;e.target.setAttribute("data-current","currentPage"),o.removeAttribute("data-current"),c.style.display="none",s.style.display="block"})),o.addEventListener("click",(function(e){if(e.target.hasAttribute("data-current"))return;e.target.setAttribute("data-current","currentPage"),i.removeAttribute("data-current"),s.style.display="none",c.style.display="block"}));var u=t(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,l,r){var a,o=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,c="function",s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery-list__item">\n    <div data-filmId="'+s(typeof(a=null!=(a=u(n,"filmId")||(null!=t?u(t,"filmId"):t))?a:i)===c?a.call(o,{name:"filmId",hash:{},data:r,loc:{start:{line:2,column:22},end:{line:2,column:32}}}):a)+'" class="gallery-list__card">\n        <button type="button" data-filmid="'+s(typeof(a=null!=(a=u(n,"filmId")||(null!=t?u(t,"filmId"):t))?a:i)===c?a.call(o,{name:"filmId",hash:{},data:r,loc:{start:{line:3,column:43},end:{line:3,column:53}}}):a)+'" class="remove-film-btn">\n            <svg class="remove-film-svg" width="26" height="30">\n                <use href="./images/icons.svg#icon-clear"></use>\n            </svg>\n        </button>\n\n        <div class="gallery-list__poster">\n            <img class="gallery-list__img" src="https://image.tmdb.org/t/p/w300'+s(typeof(a=null!=(a=u(n,"urlImg")||(null!=t?u(t,"urlImg"):t))?a:i)===c?a.call(o,{name:"urlImg",hash:{},data:r,loc:{start:{line:10,column:79},end:{line:10,column:89}}}):a)+'" alt="'+s(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:i)===c?a.call(o,{name:"title",hash:{},data:r,loc:{start:{line:10,column:96},end:{line:10,column:105}}}):a)+'" loading="lazy" />\n        </div>\n\n        <div class="gallery-list__description">\n            <h2 class="gallery-list__titel">'+s(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:i)===c?a.call(o,{name:"title",hash:{},data:r,loc:{start:{line:14,column:44},end:{line:14,column:53}}}):a)+'</h2>\n            <div class="gallery-list__info">\n\n                <p class="gallery-list__genre">'+s(typeof(a=null!=(a=u(n,"ganres")||(null!=t?u(t,"ganres"):t))?a:i)===c?a.call(o,{name:"ganres",hash:{},data:r,loc:{start:{line:17,column:47},end:{line:17,column:57}}}):a)+' | <span class="gallery-list__Year">'+s(typeof(a=null!=(a=u(n,"relisYer")||(null!=t?u(t,"relisYer"):t))?a:i)===c?a.call(o,{name:"relisYer",hash:{},data:r,loc:{start:{line:17,column:93},end:{line:17,column:105}}}):a)+'</span> </p>\n                <span class="gallery-list__rating">'+s(typeof(a=null!=(a=u(n,"ratting")||(null!=t?u(t,"ratting"):t))?a:i)===c?a.call(o,{name:"ratting",hash:{},data:r,loc:{start:{line:18,column:51},end:{line:18,column:62}}}):a)+"</span>\n\n            </div>\n        </div>\n    </div>\n</li>\n"},useData:!0}),d=a("aFbFi"),m=a("hIjf5");function g(e){let t="";return e.forEach((e=>{var n;const l=null===(n=e.genre_ids)||void 0===n?void 0:n.map((e=>(0,m.convertGanres)(d.genreIds,e)));l.length>2&&(l.length=2,l.push("Others"));const r={filmId:e.id,title:e.name||e.title||"XXXX",urlImg:e.poster_path,relisYer:(e.release_date||e.first_air_date||"XXXX").slice(0,4),ganres:l.join(", ")||"Others",ratting:e.vote_average};t+=u(r)})),t}new URL(a("kyEFX").resolve("2hlj7"),import.meta.url).toString();let f=[];function y(e){f=[...e]}const p=document.querySelector("#watched"),h=document.querySelector("#queue"),v=document.querySelector(".gallery-list"),b=document.querySelector(".js-watched-text"),S=document.querySelector(".js-queue-text");function _(e){const t=e.currentTarget.dataset.key,n=localStorage.getItem(t),l=JSON.parse(n);l?(v.innerHTML=g(l),y(l),k(t)):v.innerHTML=""}function k(e){"watched-films"===e?b.style.display="none":S.style.display="none"}h.addEventListener("click",_),p.addEventListener("click",_),document.addEventListener("DOMContentLoaded",(function(e){const t=p.dataset.key,n=localStorage.getItem(t),l=JSON.parse(n);if(!l)return void(v.innerHTML="");v.innerHTML=g(l),y(l),k(t)})),a("k1A4R"),a("8VnKz"),a("e1jet");const q=document.querySelector(".clear-library-btn"),I=document.querySelector(".gallery-list"),w=document.querySelector(".js-watched-text"),j=document.querySelector(".js-queue-text");q.addEventListener("click",(function(e){const t=document.querySelector('button[data-current="currentPage"]');(function(e){localStorage.removeItem(e),I.innerHTML=""})(t.dataset.key),"watched"===t.id?w.style.display="block":j.style.display="block"}));const E=document.querySelector(".gallery-list"),L=document.querySelector(".js-watched-text"),O=document.querySelector(".js-queue-text");E.addEventListener("click",(async function(e){if("svg"!==e.target.nodeName)return;const t=e.target.closest(".remove-film-btn").dataset.filmid,n=document.querySelector('button[data-current="currentPage"]').dataset.key;(function(e,t){const n=JSON.parse(localStorage.getItem(t)).filter((({id:t})=>t!==Number(e)));localStorage.setItem(t,JSON.stringify(n))})(t,n),function(e){if(0!==JSON.parse(localStorage.getItem(e)).length)return;localStorage.removeItem(e),"watched-films"===e?L.style.display="block":O.style.display="block"}(n);const l=f.filter((({id:e})=>e!==Number(t)));E.innerHTML=g(l),y(l)}));var x=a("amyG6");(0,a("25RCP").initializeApp)({apiKey:"AIzaSyBUOkNmStKTSocLVZep5KOG-DCmcE-JtyU",authDomain:"team-project-filmoteka-4a376.firebaseapp.com",projectId:"team-project-filmoteka-4a376",storageBucket:"team-project-filmoteka-4a376.appspot.com",messagingSenderId:"642268048302",appId:"1:642268048302:web:153e44a9f24c349d73f63f",measurementId:"G-0YT3H2K0Y7"});const A=(0,x.getAuth)(),H=document.querySelector("#user-logout");function N(){H.classList.toggle("hidden-link")}(0,x.onAuthStateChanged)(A,(e=>{e&&(console.log(e),N())}));H.addEventListener("click",(async()=>{await(0,x.signOut)(A),N()}));
//# sourceMappingURL=library.3bdc0a90.js.map
